## start of cobbler network_config generated code
#if $getVar("system_name","") != ""
    #set ikeys = $interfaces.keys()
    #import re
    #for $iname in $ikeys
        #set $idata = $interfaces[$iname]
        ## Ignore BMC interface
        #if $idata["interface_type"].lower() == "bmc"
            #continue
        #end if
    #end for
    #for $iname in $ikeys
        #set $idata    = $interfaces[$iname]
        #set $mac      = $idata["mac_address"]
        #set $static   = $idata["static"]
        #set $ip       = $idata["ip_address"]
        #set $netmask  = $idata["netmask"]
        #set $type     = $idata["interface_type"]
        ## Ignore BMC interface
        #if $type == "bmc"
            #continue
        #end if
        #if $hostname ==""
            #set $myhostname = $getVar("system_name","").replace("_","-")
hostname="$myhostname"
        #else
hostname="$hostname"
        #end if
        #if $mac != ""
            #if $iname == "default":
                #if $static == True:
                    #if $ip != "":
ifconfig_em0="inet $ip netmask $netmask"
                    #else
ifconfig_em0="DHCP"
                        #continue
                    #end if
                    #if $gateway != "":
defaultrouter="$gateway"
netwait_enabled="YES"
netwait_ip="$gateway"
netwait_timeout="60"
                    #end if
                #else
ifconfig_em0="DHCP"
                #end if
            #else
                #if $static == True:
                    #if $ip != "":
ifconfig_$iname="inet $ip netmask $netmask"
                    #else
ifconfig_$iname="DHCP"
                        #continue
                    #end if
                    #if $gateway != "":
defaultrouter="$gateway"
netwait_enabled="YES"
netwait_ip="$gateway"
netwait_timeout="60"
                    #end if
                #else
ifconfig_$iname="DHCP"
                #end if
            #end if
        #else
ifconfig_em0="DHCP"
        #end if
    #end for
#else
## profile based install so just provide one interface for starters
    #set $myhostname = $getVar('hostname',$getVar('name','cobbler')).replace("_","-")
hostname="$myhostname"
ifconfig_em0="DHCP"
#end if
